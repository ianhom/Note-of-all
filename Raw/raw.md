# Unclassified

## 编程语言
### C
- C语言是我的编程基础，如果说我能对编程理解更为深入，很可能是在c语言的基础上有的精进。
- C语言是面相过程的语言，解决的问题都是比较微观，流程细节类问题，所以适合单片机和操作系统类对资源或效率要求很高的场合。
#### stack
- 栈是c语言中非常重要的一个结构，函数的调用会使用到栈，将当前函数执行的上下文压入栈中。
- 通过指针寻找函数内不可间的全局变量及上层函数的局部变量，该方法比较危险，容易造成死机，原理上是通过局部函数内可见的局部变量或静态局部变量来搜索外部变量
```c
#include<stdio.h>
static int sa=234;
void main(void)
{
    int a=123;
    test();
    printf("a is %d\n",a);   // you get 456
    printf("sa is %d\n",sa); // you get 789
}

void test(void)
{
    static int sb;
    int *p=(int*)&p; // Get SP value
    for(int i=0;i<20;i++)
        if(*(p+i)==123)
            *(p+i)=456;
    p=&sb;           // Get address of static sb
    for(int i=-20;i<20;i++)
        if(*(p+i)==234)
            *(p+i)=789;
}
```
- 设计数据结构的时候，可以从每个个体的视角将数据组织起来，然后充分利用这些数据进行处理，然后再除去无用到位视角。
- 使用数组模拟链表结构时，可以先不考虑释放回收的问题，算法题中考的重点不是malloc的算法，而是题目主题的解题思路，比如数据储存的优化，数据结构设计，搜索效率等问题。
- bfs实际是对状态的搜索，要将题目转化为明确的状态，即可使用bfs解题。这里需要充分理解状态的概念，划分出子状态，明确状态见的转换条件。
- dfs和bfs都是查询状态的方法，不同于bfs的步步为营，dfs偏向于不撞南墙不回头。
- 二分法很基础，但写好不容易，先识别出输出的瓶颈，然后找出方法double输出。

#### heap
- 堆是一块固定的静态数据区，一般通过malloc，realloc，free来管理。
- 堆可以是完整的一块空间，也可以是多块不连续空间，具体是否支持要看malloc和free到位实现。
- 堆属于全局数据，所以生命周期在malloc到free之间，所以heap数据一定要由开发者管理好，如果没有合适的free会造成内存泄漏。。

#### 指针
- 指针是个好东西，也很危险
- 指针有两个概念，地址和所指向的地址的数据的类型。
- 刚开始学指针的时候很多人会说指针就是地址，确实指针的值是一个地址，但指针变量同时表征了所指向空间的数据类型，这一点可以通过指针变量的加减运算可以看出。
- 例如在32位系统中，int类型占4个字节，一个指向int类型的指针在＋1之后，其值就是增加4，这里的＋1指的是指向下一个int类型，所以偏移就是一个int类型的数据长度（32位机器上就是4个字节），如果是char类型，＋1操作则偏移一个字节的长度。

### C++
- Cpp是在C语言基础之上发展出来的面向对象的编程语言。
- Cpp具有现代高级语言的很多特性，面向对象，继承，多态等等。
- 类是对象的模型，可以使用类来创建一个或多个对象实例。
- getinstance可以获得单实例。单例模式下，通过进程才能实现多例。
- Cpp中有string类型，可以直接进行＋操作来实现字符串拼接，但string对象不同于c语言中的char* 无法进行指针操作。。

### Python
- Python是一种易学强大的脚本语言。
- 应用范围：网络爬虫，人工智能，自动化测试，嵌入式等等。
- Python的强大有两点∶容易学，应用范围广。
- Python对格式有非常严格的要求，错误的空格缩进也会导致程序无法运行；程序的层级关系也是通过代码缩进来实现的。
- 代码的层级是通过“:”号和代码缩进来表示
- 同c语言的include，Python有强大的import，例如curl就有对应的pycurl模块，具有高开发效率和执行效率。
- Python同样有高级语言的很多特性，如面向对象等。
- Python更像是编程的本质提炼，用简洁的语言重新组织了一下，专注实现本身，而非语法。
- Python的多线程也非常方便，同时一个线程的意外crash不会影响其他线程。

### Java
- Java的class的构造函数与类名同名，可以有多个构造函数，通过不同的参数来识别不同的构造入口。
- Java是强类型的编程语言，使用变量前要申明变量类型。
- Java编译完成后变成字节码，字节码可以运行在所有Java到位虚拟机上，即实现了一次编译，多处运行的效果
- Java没有指针，所以不会像c那样有指针类的危险操作。
- Java是完全面向对象，所以只有一个方法的函数也需要类进行封装。

### JavaScript
- JS是一种类似c和Java的脚步语言 在前端web开发非常流行，也有用于后端服务器开发的nodejs。
- 其实JavaScript和Java关系不大，Java是编译型语言，而JavaScript是脚本语言。

### Groovy   
- Groovy是用于Java虚拟机的一种敏捷的动态语言，它是一种成熟的面向对象编程语言，既可以用于面向对象编程，又可以用作纯粹的脚本语言。使用该种语言不必编写过多的代码，同时又具有闭包和动态语言中的其他特性。Groovy是JVM的一个替代语言（替代是指可以用 Groovy 在Java平台上进行 Java 编程），使用方式基本与使用 Java代码的方式相同，该语言特别适合与Spring的动态语言支持一起使用，设计时充分考虑了Java集成，这使 Groovy 与 Java 代码的互操作很容易。（注意：不是指Groovy替代java，而是指Groovy和java很好的结合编程  ---- by 百度百科
- Groovy很多语法源自各种语言，可以使用强类型，也可以使用def关键字动态定义。

### shell
- shell是linux开发基础，只有基于linux开发基本都绕不开shell命令或脚本。
- shift命令是用于切换参数位置，例如原参数为 1 2 3，shift命令后就是2 3。


------------------------------

## 通讯协议
### BLE
- Bluetooth Low Energy是蓝牙4.0之后的低功耗蓝牙版本，极大扩展了iot应用。
- 因为其低功耗特性，再加上手机到位支持，非常适合可穿戴产品。
- att是基础，上层为gatt定义了访问规范，在这层有服务器和客户端这两个角色，gap使用了gatt实现设备access的规则，在这层定义了广播者，观察者，中心设备（一般为手机）和外围设备（一般为sensor）。
- att是属性协议，定义了数据存放的形式，att中包含了uuid，handle，value和permission。。
- uuid是属性的类型 通过类型可知道数据的含义。
- handle是数据在服务器的唯一地址，类似于指针。
- value就是属性中的数值，比如温度值，电流值或者是字符，亦可以是另一个uuid的值，这需要看本att的uuid含义是什么。
- permission收数值的可读可写权限，向外展示如何操作。
- 多条att组合成service，完成一个具体功能。
- 一个service的开端是一个值uuid为0x2800的att来表示的，其att的值就为服务类型值；uuid为0x2803就表示一个特性声明。
- 用户可以定义自己的service和特性，但这样就没有互操作性，除非向外告知service细节。
- 一个或多个service组成一个profile，表明一个产品提供的能力，定义了角色，发现流程，详细服务等。
- mesh了属于网络层规范。
- mesh的一大特点是报文通过节点中继来扩大通讯范围。
- mesh中有两种承载层，广播承载层和GATT承载层。
- mesh规范中provisioner作为网络管理者负责将设备变成网络中的节点。
- Proxy作为代理可以将手机接入到mesh网络中
- Friend node作为低功耗节点的缓存。friend和低功耗节点链接建立的大致流程为，低功耗节点寻找附近friend，friend回应请求，建立连接。
- DFU基于GATT进行数据交换，利用通知和写入来传递固件，暂时没有官方profile，各芯片厂家有自己的方案。
- supervision_timeout是在数据链路层上决定了两个设备最小需要有成功连接的超时时间，若在这个时间内没有有效的数据交互，则会断开连接。

### CoAP
- 简化版，二进制版的http
- 具有get，put，post，delete等方法

### MQTT
- MQTT是基于订阅发布机制的适用于物联网的通讯协议
- 报文结构包括固定头，可变头和payload
- 固定头中的格式是固定的，长度是2到5个字节。第一个字节用以表示mqtt包类型，第二到五个字节是表示剩余数据的长度，这个表示长度的域是可变的。
- 可变头则是根据报文类型有各自规定的格式，内容也要依据具体报文类型来判断。

### socket编程
- socket可以实现进程间通讯。
- 一个socket绑定一个ip＋port号，多个socket不能绑定同一个地址，所以socket有时会作为共享资源，而无法再进程间同时使用。因此socket属于全局资源，在进程间可以做同步使用。
- 基于Python的socket模块可以通过setopt设置定制参数如超时时间等。

-----------------------------------------------


## 人工智能
### math
- 函数是变量x到因变量y之间的映射关系。
 

### 机器学习
- 神经网络（NN）是通过模拟神经元传递信息的过程而发展出来的。
- 神经元的基本工作原理如下，多个输入拥有不用的权重，所有输入乘以权重的和如果超过了神经元阈值，则神经元被激活然后产生输出；反之怎不被激活不产生输出。
- 在基本的规则之上，由多个神经元形成多层的结构，这个结构就是神经网络。众多微小的输入通过该网络形成一个整体的输入。
- 上一层单元与下一层单元之间的链接是有权重系数的，而训练学习就是一个自动调整这个系数的过程。

------------------------------------------------

## 操作系统
### 调度
- 如果说把成为操作系统的代码裁剪到最小，那最后剩下的就是调度。调度是操作系统的关键。
- 操作系统的关键是特供服务，核心服务就是调度。
- 为了更好的调度，会逐渐出现相关辅助的机制，如ipc
- 调度的对象是一段串行的流程，在rtos中称之为任务，在大型系统中称之为线程
- 程序的运行有上下文环境，调度就是切换上下文。举个例子，小时候的网吧电脑里安装了各种各样单机游戏（还没啥网络游戏），电脑有限，时间有限（四元一小时）所以一个游戏总是不能一玩到底（仙剑奇侠传）这时不得不保存下机，然后下一个偷偷摸摸来玩的小伙伴上机玩其他游戏打开他之前的金庸奇侠传记录，然后继续玩。而我等攒够了钱，我再来继续独挡。
### 进程间通讯IPC
- 调度的对象是任务，而任务之间免不了有数据交换或流程同步，这时就需要ipc。
- 在RTOS中没有虚拟内存，虽然每个任务都有自己独立的栈，但是内存地址对大家而言是一致的，即所有任务所涉及到的地址空间是同一个0~4G(32为机)，在这种情况下，最简单的数据交换方式就是使用一个全局变量。
- 既然全局变量这么简单，为什么在rtos中很少见呢?其实不光rtos，在裸机程序中对全局变量的使用都是有限制的。
- 说到这里我们用裸机中的主程序和中断来类比，有一个全局变量a，主程序中修改其值为0，紧接着打印这个值；同时中断中没1ms修改这个a的值为1，我们打印的结果是永远为0吗?从打印结果会发现，结果中会出现1，因为在打印之前总有机会被中断打断，然后被修改1并打印出来。其实还有更微观的原理。
- 裸机中的主程序和中断就属于两个任务，在rtos中多个任务之间也有类似的关系，所以多任务对共享资源都要特别注意，这时就需要ipc介入。
- 在RTOS中，没有虚拟地址，所有的地址都是实际地址，所有可以直接通过指针找到具体的内存。那么任务之间的通讯，只需要通过系统管理好数据的位置信息共享，即可完成信息的交换。
- IPC的功能不仅仅是在任务之间交换“数据”，“交换”这个行为本身就是一个可以被充分利用的“事件”，称之为“同步”
- IPC中有个叫“事件”和“信号量”的机制，实现的就是“同步”的效果。
### 定时服务
- 如果说裸机和有操作系统最直接的差别，那就是操作系统可以实现无堵塞的延时操作。
- 定时器机制是实现无阻塞延时的基础，可以理解为软件定时器（只用了一个硬件定时器），以一个硬件定时器为基础，在改硬件定时器中断中维护一个系统时间，然后通过该系统时间来维护多个软件软件定时器，这些软件定时器由系统本身和各个任务所使用。
- 定时结束本身属于一种事件，在结束时刻可以一般会触发回调函数或线程切换。

------------------------------------------------
## 杂
### 很杂
- 有时候坚持也是件很痛苦的事。但遇到瓶颈，也要想办法突破。
- 35岁，莫名的门槛，怎么破怎么过。
- 专或广还是专和广，价值体现在专?是否有这样的体力和脑力?
- 深度，思考的深度很重要，you have been there before!找到根源，抽象到不能再抽，不论是编程还是其他问题。
- 人一定要有目标，目标一定要达成，刷新自己的认知，拥有更高的平台。

### i.mxrt系列
- i.mxrt1050/1020/1010/1060/1170
- RT1052是nxp推出的一款跨界mcu，600mhz主频的m7架构。
- RT1170是nxp首款1GHz的mcu。

### MOE(Minds Of Embedded system)
- 决定重写moe，重点在于各种组件的支持，服务编程者。
- 新版moe将支持各种云平台，从底层到安全到应用。
- 新版moe将支持coap，mqtt等网络中间件和ocf，hilink，阿里上层标准
- 新版moe将支持各种编程语言。
- 更多新框架，面向开发者的过往经历。
- 支持可抢占式调度内核，与协程。
- moe的设计要包含每个模块的test case，助学型os的feature不能少。
- 给自己留一个思考，在如今成熟的os一大堆，大厂也在出自己的自主os，开发者都在开发自己的os的今天，我写os是为什么。
- 大厂的os为自己的云，自己的生态服务，我的os服务谁。
- 面向开发者，背向云，让开发者仅关注应用，OS是一项整理。
- os不在是炫技的存在，内核的存在应该弱化，服务应该有很强的呈现。
- how about an ai容器?!值得考虑一下。
- 众多os中，问自己一个核心问题，OS是什么，核心技术是什么。
- 操作系统会根据时代背景加入自己的特性，从实时操作系统，到iot操作系统，下一个是什么，ai操作系统
-

### 框架
- 底层到顶层，统一标准的成本越来越高。
- 回调机制不是将操作注册到远端，而是远端对本地有若干输入后被触发的手段。
- 远端和本地端都需要有合适的异步通信功能才能保证实时性，或一方对数据实时性要求已知，比如在特定事件发生时请求数据。

### iot
- iot的意义不在于thing能建立网络，而是thing背后所交互的物理世界。thing和thing之间的关系可以有更多关联，更多意义。
- 低功耗是iot一个关键词，因为传感器是iot一个主要部分，而很大一部分传感器是电池供电，所以低功耗被提到了一个关键的位置。

### 程序
- 进程是在内存空间上看似独享实际共享的角度
- 线程是在运行时间上看似独享实际共享的角度
- 上述概念同百兆宽带，在使用的人不多的时候，确实是专享，但实际上市资源共享的，在用户很多的情况下，仍然会遇到资源不足的问题。

### 小红花计划
- 快速迭代一个产品，用于给孩子平日良好表现记上小红花
- 2019年8月30日，v0.01版本，显示小红花，按键控制图显图消
- 其实在此项目中，家长是客户，孩子是用户，如何同时讨好客户和用户，是个难题
- 一点对这个项目的思考，产品形态没有定型，确切的说我不想让以往经验限制思路，但也希望在擅长的领域中摸索，有些矛盾，但可以尝试找到平衡。其次有一定可以确定，这不是一个APP或一个单品，这里会有很多有趣的嵌入式相关的产品，比如可解锁的盒子，检测坐姿的传感器等。
- 利用小爱同学平台通过语音给宝宝记小红花。
- 整体方案音箱拾音，云端解析，命令给私云，再给网关，进而终端显示。
- 该方案可以将终端存储问题解决，小红花的数量又云端服务器统一管理，终端实时从云端获取最新数量，做到数据统一。
- 把功能打散，从系统的角度重新分配合适的位置，再定义最终的产品形态。
- 他山之石可以攻玉，一个无处安放的功能点在其他产品上却意想不到地合适。
- 机器视觉不能少，作为判定工具最合适。
