# MOE board project    
- 板载CMSIS-DAP仿真器，仿真器可独立工作    
- 单个usb实现供电，下载，仿真，虚拟串口，U盘拷贝式烧写程序    
- 大容量MCU 5186TEV    
- 支持系统:各类rtos，MOE，各类脚本解释器
- Arduino接口兼容，排针双支持
- 星空配色(批量版本)/熊猫版（小批量版本）
- 卡片size = 86 * 54 mm，支持arduino定位孔
 
# 关于Arduino接口
- Arduino接口是非常流行的接口，Arduino爱好者本身就很多，很多开发板也愿意支持该接口（st的Nucleo系列，Freescale的FRDM系列）。这同样引导了很多有趣功能丰富的扩展板支持Arduino接口。 我以前遇到一个问题，就是FRDM系列的开发板和对应的扩展板，都没有焊上排针排母，一般习惯是在开发板上焊排针，但这样就无法使用同样为排针的Arduino扩展。为了解决这个问题，MOE板将设计Arduino的排针+排母的接口，或MOE上将采用排母的方式，然后附送上床头齐长的排针，就能实现母-针-母对接了，方便大家使用。

# 关于MCU储存容量
- 如果仅仅为了跑目前的协作型MOE内核，其实不需要很大的RAM/ROM，因为MOE消耗的很少。但是以后会为MOE尝试不同类型的内核，而且要增加脚本语言解释器，能运行脚本程序，那对RAM/ROM就有比较高的要求了

# 关于板载仿真器
- 大多非官方的开发板没有板载仿真器，这样可以节约成。但目前主流的官方开发板都提供了便捷的板载调试方案，甚至可以当做仿真器给板外target下载仿真。为了方便MOE使用者，决定增加板载仿真器。
- 还有后期将支持脚本解释器，提供的固件可以通过板载仿真器方便地升级到板子上，方便玩脚本语言。板载仿真器还要提供u盘模式，即将编译好的二进制文件拖入u盘一般完成烧录
- MOE板的板载仿真器还将在后续的自动化测试中起到重要作用。
- 目前可选的方案有:
    - J-Link OB(On Board)：需购买
    - ST-Link
    - CMSIS-DAP
- 在上述参考之上增加按键、LED、外部存储以丰富功能。

# 关于板载串口
- 对于MOE而言，顺手的串口调试可以方便观察应用的运行情况。
- 对于脚本应用，也需要一个串口做交互环境

# 关于开发板尺寸
- 现在开发板越做越小，小到指甲盖那么大。虽然方便携带不是开发板的必要特性，但是小巧给人随手即用的感觉。考虑到兼容arduino接口，把板子尺寸固定在信用卡大小

# 外设资源
- 开发板尽可能预留出所有管脚以备扩展，但如果板面足够，**可能**考虑如下资源：
    - DHT11温湿度传感器
    - 加速度计
    - 网口
    - WiFi
    - 显示屏
    - 。。。
- 上述资源也可以考虑在Arduino扩展板上布局，要视PCB设计情况而定。 

## 关于扩展板
- 支持第三方Arduino扩展板
- 芯片所有IO将全部引出，将用额外插针引出，可设计转接扩展板。


#  USB接口定义
-  USB主要有如下的作用：
    -  供电
    -  仿真
    -  串口通讯
    -  优盘式程序下载
- 这里需要考虑上述功能是否能够通过一个USB实现，如果是多个USB口，需要考虑供电冲突的情况。 

# CMSIS-DAP芯片管脚定义
- 用于实现CMSIS-DAP的外围有如下使用：
    - USB口：用于连接PC
    - UART口：用于连接Target芯片，接收target的UART数据
    - GPIO：用于连接Target芯片的SWD接口
    - LED：用于显示Target连接状态。
    - SWD接口：用于烧录DAP芯片
    - 晶振：用于提供时钟（可考虑实用内部晶振）
    
# Target芯片管脚定义
- Target芯片外围有如下实用：
    - UART:用于连接DAP芯片
    - SWD接口：用于连接DAP芯片
    - 晶振：选择可以倍频到最高频率的外部晶振
    
    
# 关于电源设计
- 开发板将采用USB供电，由5V转3.3V，给DAP和Target供电。对模拟信号精度要求不高，所以这里不区分数字VCC和模拟VCC
